/* ═══════════════════════════════════════════════════════════
   1. MENU OVERLAY - ปรับปรุงพื้นหลัง
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .menu-overlay {
    padding: 80px 20px 40px 20px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .menu-overlay .nav-links {
    width: 100% !important;
    max-width: 400px !important;
    margin: 0 auto !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 14px !important; /* ✅ ระยะห่างสม่ำเสมอ */
  }
}

/* ═══════════════════════════════════════════════════════════
   2. MENU ITEMS - ปุ่มสมมาตรสวยงาม
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .menu-overlay .nav-item {
    /* ✅ ขนาดคงที่ - ทุกปุ่มเท่ากัน */
    width: 100% !important;
    max-width: 340px !important;
    min-height: 56px !important; /* เพิ่มจาก 54px */
    height: auto !important;
    
    /* ✅ Padding สมดุล */
    padding: 14px 20px !important;
    margin: 0 !important; /* ไม่ใช้ margin แล้ว ใช้ gap */
    
    /* ✅ Typography ชัดเจน */
    font-size: 17px !important;
    line-height: 1.4 !important;
    font-weight: 600 !important;
    
    /* ✅ Layout ของ icon + text */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 10px !important;
    text-align: center !important;
    
    /* ✅ กรอบและพื้นหลัง */
    border-radius: 12px !important;
    border: 2px solid #d6d301 !important;
    background: #000 !important;
    color: #fff !important;
    
    /* ✅ Transition ลื่น */
    transition: all 0.2s ease !important;
    
    /* ✅ ป้องกัน text wrap ไม่พอดี */
    white-space: normal !important;
    word-wrap: break-word !important;
  }
  
  /* ✅ Icon ภายในปุ่ม */
  .menu-overlay .nav-item::before {
    flex-shrink: 0 !important; /* icon ไม่หด */
    font-size: 18px !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   3. CLOSE BUTTON - ปรับขนาดให้เหมาะสม
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .mobile-close-btn {
    /* ✅ ขนาดเหมาะสม (ไม่ใหญ่เกินไป) */
    width: 52px !important;
    height: 52px !important;
    top: 16px !important;
    right: 16px !important;
    
    /* ✅ ปรับ visual */
    background: rgba(255, 255, 255, 0.95) !important;
    border: 2px solid #d6d301 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
  }
  
  .mobile-close-btn .close-icon {
    font-size: 32px !important; /* ลดจาก 36px */
    font-weight: 700 !important;
    line-height: 1 !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   4. RESPONSIVE - iPhone SE (375px)
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 375px) {
  .menu-overlay .nav-item {
    max-width: 320px !important;
    min-height: 54px !important;
    padding: 13px 18px !important;
    font-size: 16px !important;
    gap: 8px !important;
  }
  
  .mobile-close-btn {
    width: 48px !important;
    height: 48px !important;
    top: 14px !important;
    right: 14px !important;
  }
  
  .mobile-close-btn .close-icon {
    font-size: 28px !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   5. RESPONSIVE - มือถือเล็กมาก (360px)
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 360px) {
  .menu-overlay {
    padding: 75px 15px 30px 15px !important;
  }
  
  .menu-overlay .nav-links {
    gap: 12px !important;
  }
  
  .menu-overlay .nav-item {
    max-width: 300px !important;
    min-height: 52px !important;
    padding: 12px 16px !important;
    font-size: 15px !important;
  }
  
  .mobile-close-btn {
    width: 46px !important;
    height: 46px !important;
    top: 12px !important;
    right: 12px !important;
  }
  
  .mobile-close-btn .close-icon {
    font-size: 26px !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   6. ACTIVE STATE - Touch Feedback
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .menu-overlay .nav-item:active {
    transform: scale(0.96) !important;
    background: #1a1a1a !important;
    border-color: #ffeb3b !important;
  }
  
  .mobile-close-btn:active {
    transform: scale(0.9) rotate(90deg) !important;
    background: #ef4444 !important;
    border-color: #fff !important;
  }
  
  .mobile-close-btn:active .close-icon {
    color: #fff !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   7. ANIMATION - Smooth Entry
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .menu-overlay.active .nav-item {
    animation: slideInMenu 0.3s ease forwards !important;
  }
  
  /* Staggered animation */
  .menu-overlay.active .nav-item:nth-child(1) { animation-delay: 0.05s !important; }
  .menu-overlay.active .nav-item:nth-child(2) { animation-delay: 0.10s !important; }
  .menu-overlay.active .nav-item:nth-child(3) { animation-delay: 0.15s !important; }
  .menu-overlay.active .nav-item:nth-child(4) { animation-delay: 0.20s !important; }
  .menu-overlay.active .nav-item:nth-child(5) { animation-delay: 0.25s !important; }
  .menu-overlay.active .nav-item:nth-child(6) { animation-delay: 0.30s !important; }
  .menu-overlay.active .nav-item:nth-child(7) { animation-delay: 0.35s !important; }
}

@keyframes slideInMenu {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ═══════════════════════════════════════════════════════════
   8. ACCESSIBILITY - เพิ่ม Focus States
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .menu-overlay .nav-item:focus {
    outline: 3px solid #ffeb3b !important;
    outline-offset: 2px !important;
  }
  
  .mobile-close-btn:focus {
    outline: 3px solid #ffeb3b !important;
    outline-offset: 2px !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   9. IMPROVED ICON ALIGNMENT
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  /* ถ้ามี icon ใน HTML เป็น element แยก */
  .menu-overlay .nav-item > span:first-child,
  .menu-overlay .nav-item > i:first-child {
    flex-shrink: 0 !important;
    width: 24px !important;
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   10. FIX สำหรับข้อความยาว
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  /* ปุ่มที่มีข้อความยาว เช่น "รูปภาพและกิจกรรม" */
  .menu-overlay .nav-item {
    /* ให้ขยายสูงตามเนื้อหา */
    height: auto !important;
    
    /* จำกัด text ไม่เกิน 2 บรรทัด */
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-box-orient: vertical !important;
    -webkit-line-clamp: 2 !important;
    
    /* หรือใช้ ellipsis ถ้าเกิน (เลือกอันใดอันหนึ่ง) */
    /* 
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    */
  }
}